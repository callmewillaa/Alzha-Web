<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alzha Dashboard</title>
    <link rel="icon" href="/static/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="/static/css/main.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="bg-[#F1F5FB] font-poppins">
    
    <!-- SIDEBAR -->
    <div class="fixed p-4 left-0 top-0 w-[261px] h-full bg-white shadow-md shadow-black/5">
        <a href="#" class="flex items-center border-b pb-4 border-gray-300">
            <img src="/static/logo.png" alt="" class="w-10 h-10 ">
            <span class="text-xl font-semibold text-slate-800 ml-3">Alzha Admin</span>
        </a>
        <ul class="mt-4">
            <li class="mb-1">
                <a id="dashboardLink" href="#" class="flex items-center py-3 px-4 hover:bg-gray-100 rounded-md">
                    <svg class="w-5 h-5 text-gray-700 mr-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 14h6m-3 3v-6M1.857 1h4.286c.473 0 .857.384.857.857v4.286A.857.857 0 0 1 6.143 7H1.857A.857.857 0 0 1 1 6.143V1.857C1 1.384 1.384 1 1.857 1Zm10 0h4.286c.473 0 .857.384.857.857v4.286a.857.857 0 0 1-.857.857h-4.286A.857.857 0 0 1 11 6.143V1.857c0-.473.384-.857.857-.857Zm-10 10h4.286c.473 0 .857.384.857.857v4.286a.857.857 0 0 1-.857.857H1.857A.857.857 0 0 1 1 16.143v-4.286c0-.473.384-.857.857-.857Z"/>
                    </svg>
                    <span class="text-base font-medium text-slate-600">Dashboard</span>
                </a>
            </li>
            <li class="mb-2 flex items-center py-3 px-4">
                <span class="text-base font-semibold text-slate-800">Fitur Alzha</span>
                
            </li>
            <li class="mb-2">
                <a id="klasifikasiLink" href="#klasifikasi" class="flex items-center py-3 px-4 hover:bg-gray-100 rounded-md">
                    <svg class="w-5 h-5 text-gray-700 mr-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 22 20">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16.5A2.493 2.493 0 0 1 6.51 18H6.5a2.468 2.468 0 0 1-2.4-3.154 2.98 2.98 0 0 1-.85-5.274 2.468 2.468 0 0 1 .921-3.182 2.477 2.477 0 0 1 1.875-3.344 2.5 2.5 0 0 1 3.41-1.856A2.5 2.5 0 0 1 11 3.5m0 13v-13m0 13a2.492 2.492 0 0 0 4.49 1.5h.01a2.467 2.467 0 0 0 2.403-3.154 2.98 2.98 0 0 0 .847-5.274 2.468 2.468 0 0 0-.921-3.182 2.479 2.479 0 0 0-1.875-3.344A2.5 2.5 0 0 0 13.5 1 2.5 2.5 0 0 0 11 3.5m-8 5a2.5 2.5 0 0 1 3.48-2.3m-.28 8.551a3 3 0 0 1-2.953-5.185M19 8.5a2.5 2.5 0 0 0-3.481-2.3m.28 8.551a3 3 0 0 0 2.954-5.185"/>
                    </svg>
                    <span class="text-base font-medium text-slate-600">Klasifikasi Alzheimer</span>
                </a>
            </li>
            <li class="mb-2">
                <a id="riwayatLink" href="#" class="flex items-center py-3 px-4 hover:bg-gray-100 rounded-md">
                    <svg class="w-5 h-5 text-gray-700 mr-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 20">
                        <path fill="currentColor" d="M11.045 7.514a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Zm-4.572 3.072L3.857 15.92h7.949l-1.811-3.37-1.61 2.716-1.912-4.679Z"/>
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 1v4a1 1 0 0 1-1 1H1m14 12a.97.97 0 0 1-.933 1H1.933A.97.97 0 0 1 1 18V5.828a2 2 0 0 1 .586-1.414l2.828-2.828A2 2 0 0 1 5.828 1h8.239A.97.97 0 0 1 15 2v16ZM11.045 7.514a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0ZM3.857 15.92l2.616-5.333 1.912 4.68 1.61-2.717 1.81 3.37H3.858Z"/>
                    </svg>
                    <span class="text-base font-medium text-slate-600">Riwayat Klasifikasi</span>
                </a>
            </li>
            <li class="mb-2 flex items-center py-3 px-4">
                <span class="text-base font-semibold text-slate-800">Sistem</span>
            </li>
            <li class="mb-2">
                <a href="/" class="flex items-center py-3 px-4 hover:bg-gray-100 rounded-md">
                    <svg class="w-5 h-5 text-gray-700 mr-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 21 20">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8.806 5.614-4.251.362-2.244 2.243a1.058 1.058 0 0 0 .6 1.8l3.036.356m9.439 1.819-.362 4.25-2.243 2.245a1.059 1.059 0 0 1-1.795-.6l-.449-2.983m9.187-12.57a1.536 1.536 0 0 0-1.26-1.26c-1.818-.313-5.52-.7-7.179.96-1.88 1.88-5.863 9.016-7.1 11.275a1.05 1.05 0 0 0 .183 1.25l.932.939.937.936a1.049 1.049 0 0 0 1.25.183c2.259-1.24 9.394-5.222 11.275-7.1 1.66-1.663 1.275-5.365.962-7.183Zm-3.332 4.187a2.115 2.115 0 1 1-4.23 0 2.115 2.115 0 0 1 4.23 0Z"/>
                    </svg>
                    <span class="text-base font-medium text-slate-600">Halaman Utama</span>
                </a>
            </li>
            <li class="mb-2">
                <a href="/logout" class="flex items-center py-3 px-4 hover:bg-gray-100 rounded-md">
                    <svg class="w-5 h-5 text-gray-700 mr-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 21 15">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m13.717 1 5.518 4.95a1.05 1.05 0 0 1 0 1.549l-5.612 5.088m-5.73-3.214v1.615a.95.95 0 0 0 1.525.845l5.108-4.251a1.1 1.1 0 0 0 0-1.646L9.418 1.685a.95.95 0 0 0-1.525.846v1.7c-3.312 0-6 2.979-6 6.654v1.329a.7.7 0 0 0 1.344.353 5.174 5.174 0 0 1 4.652-3.191l.004-.003Z"/>
                    </svg>
                    <span class="text-base font-medium text-slate-600">Logout</span>
                </a>
            </li>
        </ul>
    </div>
    <!-- SIDEBAR -->

    <!-- DASHBOARD PAGE -->
    <main id="dashboard" class="w-full hidden md:w-[calc(100%-265px)] min-h-screen md:ml-[265px]">
        <div class="py-4 px-6 flex items-center bg-white shadow-md shadow-black/5 sticky top-0 left-0 z-30">
            <button type="button" class="text-lg text-gray-700 sidebar-toggle" onclick="toggleSidebar()">
                <svg class="w-4 h-4 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
                  </svg>
            </button>
            <ul class="flex items-center text-sm ml-3">
                <li class="mr-2">
                    <a href="#" class="text-gray-400 hover:text-gray-600 font-medium">Dashboard</a>
                </li>
                <li class="text-gray-600 mr-2 font-medium">/</li>
                <li class="text-gray-600 mr-2 font-medium">Visual Data</li>
            </ul>
        </div>
        <div class="py-6 px-6 rounded-lg  font-poppins items-center bg-white shadow-lg shadow-black/5 mt-4 p-6 mb-4">
                <h1 class="text-slate-700 font-semibold text-3xl mb-4 mt-6">Hasil Sentimen Analisis :</h1>
                <img src="{{ chart_path }}" alt="Perbandingan Jumlah Sentimen" width="500" height="300">
                <h4 class="text-slate-700 font-semibold text-lg mb-2 ">Komentar Positif : {{ positive_count }}</h4>
                <h4 class="text-slate-700 font-semibold text-lg mb-2 ">Komentar Netral : {{ netral_count }}</h4>
                <h4 class="text-slate-700 font-semibold text-lg mb-2 ">Komentar Negatif : {{ negative_count }}</h4>
                <h4 class="text-slate-700 font-semibold text-lg mb-2 ">Total Komentar : {{ total_count }}</h4>
        </div>
    
        <!-- Display comments -->
        <div class="py-6 px-6 rounded-lg flex font-poppins items-center bg-white shadow-lg shadow-black/5 mt-4 p-6 mb-4">
            <div class="">
                <h2 class="font-semibold text-2xl text-sky-500 mb-2">Daftar Komentar</h2>
                <table class="w-full text-sm text-left rtl:text-right text-gray-500 ">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-200">
                        <tr>
                            <th scope="col" class="px-6 py-3">
                                id
                            </th>
                            <th scope="col" class="px-6 py-3">
                                Komentar
                            </th>
                            <th scope="col" class="px-6 py-3">
                                Sentimen
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for comment in comments %}
                            <tr class="bg-gray-100">
                                <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">
                                    {{ comment.id }}
                                </th>
                                <td class="px-6 py-4">
                                    {{ comment.comment }}
                                </td>
                                <td class="px-6 py-4">
                                    {{ comment.sentiment }}
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
                
            </div>
        </div>
    </main>
    <!-- DASHBOARD PAGE -->

    <!-- KLASIFIKASI PAGE -->
    <main id="klasifikasi" class="hidden w-full md:w-[calc(100%-265px)] min-h-screen md:ml-[265px]">
        <div class="py-4 px-6 flex items-center rounded-bl-lg rounded-br-lg bg-white shadow-md shadow-black/5 sticky top-0 left-0 z-30">
            <button type="button" class="text-lg text-gray-700 sidebar-toggle">
                <svg class="w-4 h-4 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
                  </svg>
            </button>
            <ul class="flex items-center text-sm ml-4">
                <li class="mr-2">
                    <a href="#" class="text-gray-400 hover:text-gray-600 font-medium">Dashboard</a>
                </li>
                <li class="text-gray-600 mr-2 font-medium">/</li>
                <li class="text-gray-600 mr-2 font-medium">Klasifikasi</li>
            </ul>
        </div>
        <div class="py-6 px-6 rounded-lg font-poppins items-center w-full bg-white shadow-md shadow-black/5 mt-4 p-6">
            <h1 class="text-3xl font-semibold mb-2  text-slate-700">
                Klasifikasi Alzheimer Menggunakan Arsitektur Mobilenet
            </h1>
            <p class="text-sm font-normal mb-5  text-gray-500">
                Masukan semua inputan yang diperlukan untuk melakukan klasifikasi
            </p>
            <form action="/dashboard" method="POST" enctype="multipart/form-data" id="klasifikasiForm" onsubmit="return showKlass()">
                <div class="mb-4">
                    <input class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg block w-full p-2.5" type="nama" name="nama" id="nama" placeholder="Masukan Nama" required="">
                </div>
                <div class="mb-4">
                    <input class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg block w-full p-2.5" type="date" name="tanggal" id="tanggal" placeholder="Masukan Tanggal" required="">
                </div>
                <div class="mb-4">
                    <input class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg block w-full p-2.5" type="email" name="email" id="email" placeholder="Masukan Email" required="">
                </div>
                <div class="mb-4">
                    <input class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg block w-full p-2.5" type="umur" name="umur" id="umur" placeholder="Masukan Umur" required="">
                </div>
                <div class="mb-4 font-poppins">
                    <select id="jk" type="jk" name="jk" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5" required="">
                        <option selected class="text-gray-900">Pilih Jenis Kelamin</option>
                        <option value="Laki - Laki" class="text-gray-900">Laki - Laki</option>
                        <option value="Perempuan" class="text-gray-900">Perempuan</option>
                    </select>
                </div>
                <div class="border-b-2 border-gray-200 mt-5 mb-5"></div>
                <div class="">
                    <div class="mt-8 text-sm mb-2 text-gray-500">
                        Upload Gambar Yang Akan Diklasifikasi
                    </div>
                    <input class="block w-full p-2 text-base  text-slate-900 border border-gray-300 rounded-lg cursor-pointer" type="file" name="file" required="">
                </div>
                <input id="klasifikasiButton" class="text-white text-center bg-sky-500 w-full hover:bg-sky-400 focus:ring-4 focus:outline-none focus:ring-sky-300 shadow-lg shadow-sky-500/50 font-medium rounded-lg text-lg px-4 py-2 mr-3 md:mr-0  mt-4" type="submit" id="klasifikasiButton"  value="Mulai Klasifikasi">
            </form>
        </div>
        
    </main>
    <!-- KLASIFIKASI PAGE -->
    
    <!-- RIWAYAT PAGE -->
    <main id="riwayat" class="hidden w-full md:w-[calc(100%-265px)] min-h-screen md:ml-[265px]">
        <div class="py-4 px-6 flex items-center rounded-bl-lg rounded-br-lg bg-white shadow-md shadow-black/5 sticky top-0 left-0 z-30">
            <button type="button" class="text-lg text-gray-700 sidebar-toggle" onclick="toggleSidebar()">
                <svg class="w-4 h-4 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
                  </svg>
            </button>
            <ul class="flex items-center text-sm ml-4">
                <li class="mr-2">
                    <a href="#" class="text-gray-400 hover:text-gray-600 font-medium">Dashboard</a>
                </li>
                <li class="text-gray-600 mr-2 font-medium">/</li>
                <li class="text-gray-600 mr-2 font-medium">Riwayat Klasifikasi</li>
            </ul>
        </div>
        <div class=" overflow-x-auto shadow-md sm:rounded-lg py-6 px-6 mt-4 p-6 bg-white">
            <h1 class="text-3xl font-semibold mb-2  text-slate-700">
                Riwayat Klasifikasi Alzheimer Menggunakan Arsitektur Mobilenet
            </h1>
            <p class="text-sm font-normal mb-5  text-gray-500">
                Hasil semua riwayat pasien yang telah diklasifikasi
            </p>
            <table class="w-full text-sm text-left rtl:text-right text-gray-500 ">
                <thead class="text-xs text-gray-700 uppercase bg-gray-200">
                    <tr>
                        <th scope="col" class="px-6 py-3">
                            id
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Nama Pasien
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Tanggal
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Email
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Umur
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Jenis Kelamin
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Gambar Rontgen
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Hasil Klasifikasi
                        </th>
                    </tr>
                </thead>
                <tbody>
                    {% for riwayat in riwayat_klasifikasi %}
                        <tr class="bg-gray-100">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">
                                {{ riwayat.id }}
                            </th>
                            <td class="px-6 py-4">
                                {{ riwayat.nama }}
                            </td>
                            <td class="px-6 py-4">
                                {{ riwayat.tanggal }}
                            </td>
                            <td class="px-6 py-4">
                                {{ riwayat.email }}
                            </td>
                            <td class="px-6 py-4">
                                {{ riwayat.umur }}
                            </td>
                            <td class="px-6 py-4">
                                {{ riwayat.jenis_kelamin }}
                            </td>
                            <td class="px-6 py-4">
                                <img src="{{ riwayat.image_path }}" alt="Gambar Rontgen" style="max-width: 100px;">
                            </td>
                            <td class="px-6 py-4">
                                {{ riwayat.klasifikasi_class }}
                            </td>
                            
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="py-6 px-6 rounded-lg font-poppins items-center w-full bg-white shadow-md shadow-black/5 mt-4 p-6">
            <h1 class="text-3xl font-semibold mb-2  text-slate-700">
                Kirim Hasil Riwayat Melalui Email Pasien
            </h1>
            <p class="text-sm font-normal mb-5  text-gray-500">
                Pilih Data Pasien, Masukan Email Pasein lalu Kirim Hasil Klasifikasi
            </p>
            <form id="kirim-email-form" action="/kirim-email-dashboard" method="POST" class="mt-4" onsubmit="return showSweetAlert()">
                <select id="riwayat_id" name="riwayat_id" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5" required="">
                    {% for riwayat in riwayat_klasifikasi %}
                        <option value="{{ riwayat.id }}">{{ riwayat.id }} - {{ riwayat.nama }} - {{ riwayat.tanggal }}</option>
                    {% endfor %}
                </select>
                <input class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg block w-full p-2.5" type="email" name="email" id="email" placeholder="Masukan Email" required="">
                <button type="submit" class="text-white text-center mb-4 bg-sky-500 w-full hover:bg-sky-400 focus:ring-4 focus:outline-none focus:ring-sky-300 shadow-lg shadow-sky-500/50 font-medium rounded-lg text-lg px-4 py-2 mt-4">
                    Kirim Hasil Klasifikasi
                </button>
            </form>
        </div>

        
        
        
        
    </main>



<script>
    
     function toggleSidebar() {
    // Dapatkan elemen sidebar
    var sidebar = document.querySelector('.fixed');

    // Alihkan kelas 'hidden' pada elemen sidebar
    sidebar.classList.toggle('hidden');
  }
    function showSweetAlert() {
        Swal.fire({
            icon: 'success',
            title: 'Berhasil!',
            text: 'Hasil klasifikasi akan dikirim ke email pasein.',
            confirmButtonText: 'Lanjutkan',
        }).then((result) => {
            if (result.isConfirmed) {
                document.getElementById('kirim-email-form').submit();
            }
        });

        return false;
    }
    function showKlass() {
        Swal.fire({
            icon: 'success',
            title: 'Berhasil!',
            text: 'Lihat Hasil Klasifikasi Pada Riwayat',
            confirmButtonText: 'Lanjut',
        }).then((result) => {
            if (result.isConfirmed) {
                document.getElementById('klasifikasiForm').submit();
            }
        });

        return false;
    }
    
    document.addEventListener('DOMContentLoaded', function() {
        // Fungsi untuk menampilkan elemen dengan ID tertentu dan menyembunyikan yang lainnya
        function showElement(elementId) {
            const elements = ['klasifikasi', 'dashboard', 'riwayat'];
            elements.forEach(function(id) {
                const element = document.getElementById(id);
                if (id === elementId) {
                    element.classList.remove('hidden');
                } else {
                    element.classList.add('hidden');
                }
            });
        }
        
        showElement('klasifikasi');
        

        // Mengaitkan fungsi dengan event klik pada tautan "Klasifikasi Alzheimer"
        document.getElementById('klasifikasiLink').addEventListener('click', function(event) {
            event.preventDefault();
            showElement('klasifikasi');
        });

        document.getElementById('riwayatLink').addEventListener('click', function(event) {
            event.preventDefault();
            showElement('riwayat');
        });

        // Mengaitkan fungsi dengan event klik pada tautan "Dashboard"
        document.getElementById('dashboardLink').addEventListener('click', function(event) {
            event.preventDefault();
            showElement('dashboard');
        });
    });
    
    
</script>
</body>
</html>